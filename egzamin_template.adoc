# https://en.wikipedia.org/wiki/Open/closed_principle[Open/Closed Principle]
:source-highlighter: pygments
:pygments-style: pastie
:icons: font
:experimental:
:figure-caption!:

Kilka odsyłaczy do łatwych przykładów (za prostych na egzamin).

* Jordan Hudgens,
  https://www.crondose.com/2016/08/solid-development-open-closed-principle[SOLID Development: Open Closed Principle Guide and Example]
* Robert C. Martin,
  https://8thlight.com/blog/uncle-bob/2014/05/12/TheOpenClosedPrinciple.html[The Open Closed Principle]
* Sergii Makagon,
  http://rubyblog.pro/2017/05/solid-open-closed-principle-by-example[S[O\]LID - Open/Closed Principle by example]


## Projekt zespołowy (do 5 programistów)

W repozytoriach należy umieścić:

. w katalogu głównym plik _README_ w którym:
.. opisano proponowane rozszerzenie funkcji programu (biblioteki)
.. w szczegółach opisano zapachy w kodzie i wykonane refaktoryzacje,
   które doprowadziły do zamierzonej otwartości w kodzie
.. w szczegółach opisano proces za pomocą którego zaimplementowano
   proponowane rozszerzenie
.. plik _.reek.todo_ ignorujący zapachy w kodzie nieopisane w książce M. Fowler
  „Refaktoryzacja”, na przykład IrresponsibleModule, DuplicateMethodCall,
  UncommunicativeVariableName
. plik  _Gemfile_ z listą użytych gemów
. w katalogu _lib_ kod w Ruby
. w katalogu _spec_ testy RSpec; albo w katalogu _test_ testy MiniSpec (lub inne, np. TestUnit)

Przykładowe programy i propozycje zmian można znależć w katalogach
link:RinR[RinR] i link:AntColony[:ant:] (brak testów).

Przykład kodu do refaktoryzacji:

. https://github.com/andersondias/conway-game-of-life-ruby[Conway's Game of Life];
  change – użyć biblioteki https://github.com/ruby/curses[Curses]. Zobacz też
  https://github.com/mmozuras/life[mmozuras].

W trakcie refaktoryzacji obowiązują następujące reguły:

. Zmiany w kodzie dotyczą tylko jednego wiersza (instrukcji).
. Uruchamiamy testy po każdej zmianie.
. Jeśli jakiś test nie zostanie zaliczony, to wracamy do poprzedniej wersji
  i wykonujemy inną lepszą zmianę.


## Jak to zrobić?

Aby uzyskać zamierzoną otwartość w kodzie kierujemy się tym schematem blokowym.

.Source: 99 Bottles of OOP by S. Metz & K. Owen
image::images/open_closed.png[Open/Closed Flowchart, 529, 541]
